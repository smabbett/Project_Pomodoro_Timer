(this["webpackJsonppomodoro-timer"]=this["webpackJsonppomodoro-timer"]||[]).push([[0],{10:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(3),r=a.n(s),c=(a(9),a(1));function o(e){return Object.entries(e).reduce((function(e,t){var a=Object(c.a)(t,2),n=a[0],i=a[1];return e.concat(i?n:void 0)}),[]).filter((function(e){return void 0!==e})).join(" ")}function u(e){var t=Math.floor(e).toString().padStart(2,"0");return"".concat(t,":00")}function m(e){var t=Math.floor(e%3600/60).toString().padStart(2,"0"),a=Math.round(e%60).toString().padStart(2,"0");return"".concat(t,":").concat(a)}var l=function(e){return i.a.createElement("div",{className:"input-group input-group-lg mb-2"},i.a.createElement("span",{className:"input-group-text","data-testid":"duration-break"},"Break Duration: ",u(e.inputBreakTime)),i.a.createElement("div",{className:"input-group-append"},i.a.createElement("button",{type:"button",className:"btn btn-secondary","data-testid":"decrease-break",onClick:function(){var t=Math.max(e.inputBreakTime-1,1);e.setInputBreakTime(t),e.setBreakTimer(60*t)},disabled:e.isTimerRunning},i.a.createElement("span",{className:"oi oi-minus"})),i.a.createElement("button",{type:"button",className:"btn btn-secondary","data-testid":"increase-break",onClick:function(){var t=Math.min(e.inputBreakTime+1,15);e.setInputBreakTime(t),e.setBreakTimer(60*t)},disabled:e.isTimerRunning},i.a.createElement("span",{className:"oi oi-plus"}))))},p=function(e){return i.a.createElement("div",{className:"input-group input-group-lg mb-2"},i.a.createElement("span",{className:"input-group-text","data-testid":"duration-focus"},"Focus Duration: ",u(e.inputFocusTime)),i.a.createElement("div",{className:"input-group-append"},i.a.createElement("button",{type:"button",className:"btn btn-secondary","data-testid":"decrease-focus",onClick:function(){var t=Math.max(e.inputFocusTime-5,5);e.setInputFocusTime(t),e.setFocusTimer(60*t)},disabled:e.isTimerRunning},i.a.createElement("span",{className:"oi oi-minus"})),i.a.createElement("button",{type:"button",className:"btn btn-secondary","data-testid":"increase-focus",onClick:function(){var t=Math.min(e.inputFocusTime+5,60);e.setInputFocusTime(t),e.setFocusTimer(60*t)},disabled:e.isTimerRunning},i.a.createElement("span",{className:"oi oi-plus"}))))},d=function(e){return i.a.createElement("div",null,i.a.createElement("div",{className:"row mb-2"},i.a.createElement("div",{className:"col"},i.a.createElement("h2",{"data-testid":"session-title"},"focus"===e.sessionType?"Focusing for ".concat(u(e.inputFocusTime)," minutes"):"On Break for ".concat(u(e.inputBreakTime)," minutes")),i.a.createElement("p",{className:"lead","data-testid":"session-sub-title"},"focus"===e.sessionType?m(e.focusTimer):m(e.breakTimer)," ","remaining"),i.a.createElement("p",{className:o({invisible:e.isTimerRunning,visible:!e.isTimerRunning})},"PAUSED"))),i.a.createElement("div",{className:"row mb-2"},i.a.createElement("div",{className:"col"},i.a.createElement("div",{className:"progress",style:{height:"20px"}},i.a.createElement("div",{className:"progress-bar",role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":"focus"===e.sessionType?100-e.focusTimer/(60*e.inputFocusTime)*100:100-e.breakTimer/(60*e.inputBreakTime)*100,style:"focus"===e.sessionType?{width:"".concat(100-e.focusTimer/(60*e.inputFocusTime)*100,"%")}:{width:"".concat(100-e.breakTimer/(60*e.inputBreakTime)*100,"%")}})))))};var b=function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)(1500),u=Object(c.a)(r,2),m=u[0],b=u[1],E=Object(n.useState)(300),f=Object(c.a)(E,2),T=f[0],v=f[1],N=Object(n.useState)(5),g=Object(c.a)(N,2),k=g[0],y=g[1],h=Object(n.useState)(25),j=Object(c.a)(h,2),O=j[0],B=j[1],S=Object(n.useState)("focus"),F=Object(c.a)(S,2),M=F[0],R=F[1],w=Object(n.useState)(!0),x=Object(c.a)(w,2),I=x[0],C=x[1];return function(e,t){var a=Object(n.useRef)();Object(n.useEffect)((function(){a.current=e}),[e]),Object(n.useEffect)((function(){if(null!==t){var e=setInterval((function(){a.current()}),t);return function(){return clearInterval(e)}}}),[t])}((function(){var e=document.getElementsByClassName("audio-element")[0];"focus"===M&&(v(60*k),b(Math.max(m-1,0)),0===m&&(e.play(),R("break"))),"break"===M&&(b(60*O),v(Math.max(T-1,0)),0===T&&(e.play(),R("focus")))}),a?1e3:null),i.a.createElement("div",{className:"pomodoro"},i.a.createElement("audio",{className:"audio-element"},i.a.createElement("source",{src:"https://assets.coderrocketfuel.com/pomodoro-times-up.mp3"})),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col"},i.a.createElement(p,{setFocusTimer:b,setInputFocusTime:B,inputFocusTime:O,isTimerRunning:a})),i.a.createElement("div",{className:"col"},i.a.createElement("div",{className:"float-right"},i.a.createElement(l,{setBreakTimer:v,setInputBreakTime:y,isTimerRunning:a,inputBreakTime:k})))),i.a.createElement("div",{className:"row"},i.a.createElement("div",{className:"col"},i.a.createElement("div",{className:"btn-group btn-group-lg mb-2",role:"group","aria-label":"Timer controls"},i.a.createElement("button",{type:"button",className:"btn btn-primary","data-testid":"play-pause",title:"Start or pause timer",onClick:function(){C(!1),s((function(e){return!e}))}},i.a.createElement("span",{className:o({oi:!0,"oi-media-play":!a,"oi-media-pause":a})})),i.a.createElement("button",{type:"button",className:"btn btn-secondary",title:"Stop the session",onClick:function(){s(!1),C(!0),b(1500),v(300),y(5),B(25)},disabled:!a},i.a.createElement("span",{className:"oi oi-media-stop"}))))),i.a.createElement("div",null,I?null:i.a.createElement(d,{inputFocusTime:O,inputBreakTime:k,focusTimer:m,breakTimer:T,sessionType:M,isTimerRunning:a})))};var E=function(){return i.a.createElement("div",{className:"App"},i.a.createElement("header",{className:"App-header container"},i.a.createElement("h1",null,"Pomodoro Timer")),i.a.createElement("div",{className:"container"},i.a.createElement(b,null)))};r.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(E,null)),document.getElementById("root"))},4:function(e,t,a){e.exports=a(10)},9:function(e,t,a){}},[[4,1,2]]]);
//# sourceMappingURL=main.276522c4.chunk.js.map